(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{127:function(e,t,a){e.exports=a.p+"static/media/logo.f5057c26.png"},147:function(e,t,a){e.exports=a(360)},152:function(e,t,a){},153:function(e,t,a){},180:function(e,t,a){},360:function(e,t,a){"use strict";a.r(t);var n=a(146),r=a(0),o=a.n(r),c=a(20),i=a.n(c),l=(a(152),a(29)),s=a(126),u=a(21),d="http://193.106.55.179:8888/",p={NO_FILE:"NO_FILE",FILE_CHOOSED:"FILE_CHOOSED",FILE_LOADED:{souldStartFlow:!0},CHECK_RECEIPT:{id:0,url:"".concat(d,"isReceipt")},FIND_EDGES:{id:1,url:"".concat(d,"detectReceipt")},EXTRACT_ITEMS:{id:2,url:"".concat(d,"extractReceiptItems")}},m=o.a.createContext(),g={doesLoadedImage:!1,hasReceiptInPhoto:!1,receiptCoordinates:[],receiptEdges:"",receiptItems:"",preMessage:'\u05e1\u05d4"\u05db 2 \u05e9\u05dc\u05d1\u05d9\u05dd \u05e4\u05e9\u05d5\u05d8\u05d9\u05dd \u05d5\u05e1\u05d9\u05d9\u05de\u05ea\u05dd!',errorMessage:"",photo:null},E=Object(u.a)({loading:!1,username:null,userLoggedIn:!1,src:null,crop:{width:200,x:0,y:0},status:p.NO_FILE},g);function f(e,t){switch(t.type){case"TOGGLE_LOADING":return Object(u.a)({},e,{loading:!e.loading});case p.NO_FILE:return Object(u.a)({},e,{status:p.NO_FILE,loading:!1},g,{errorMessage:"",preMessage:'\u05e1\u05d4"\u05db 2 \u05e9\u05dc\u05d1\u05d9\u05dd \u05e4\u05e9\u05d5\u05d8\u05d9\u05dd \u05d5\u05e1\u05d9\u05d9\u05de\u05ea\u05dd!'});case p.FILE_CHOOSED:return Object(u.a)({},e,{status:p.FILE_CHOOSED,loading:!1,doesLoadedImage:!1,photo:t.payload,errorMessage:"",preMessage:"\u05de\u05d0\u05de\u05ea \u05d0\u05ea \u05d4\u05e7\u05d1\u05dc\u05d4..."});case p.FILE_LOADED:return Object(u.a)({},e,{status:p.FILE_LOADED,loading:!1,doesLoadedImage:!0,src:t.payload,errorMessage:""});case p.CHECK_RECEIPT:var a=t.payload?"\u05d0\u05d5\u05e4\u05e1, \u05de\u05e9\u05d4\u05d5 \u05d4\u05e9\u05ea\u05d1\u05e9.. \u05e0\u05e1\u05d5 \u05dc\u05d4\u05e2\u05dc\u05d5\u05ea \u05d0\u05ea \u05d4\u05e7\u05d1\u05dc\u05d4 \u05de\u05d7\u05d3\u05e9 \u05d1\u05d1\u05e7\u05e9\u05d4":"\u05dc\u05d0 \u05de\u05e6\u05d0\u05e0\u05d5 \u05e7\u05d1\u05dc\u05d4 \u05d1\u05ea\u05de\u05d5\u05e0\u05d4, \u05e0\u05e1\u05d5 \u05dc\u05d4\u05e2\u05dc\u05d5\u05ea \u05ea\u05de\u05d5\u05e0\u05d4 \u05d8\u05d5\u05d1\u05d4 \u05d9\u05d5\u05ea\u05e8 \u05d1\u05d1\u05e7\u05e9\u05d4";return Object(u.a)({},e,{status:p.CHECK_RECEIPT,loading:!1,hasReceiptInPhoto:t.payload,errorMessage:a});case p.FIND_EDGES:return Object(u.a)({},e,{status:p.FIND_EDGES,loading:!1,receiptEdges:t.payload,errorMessage:"",preMessage:"\u05de\u05e0\u05ea\u05d7 \u05d0\u05ea \u05d4\u05e7\u05d1\u05dc\u05d4..."});case p.EXTRACT_ITEMS:return Object(u.a)({},e,{status:p.EXTRACT_ITEMS,loading:!1,receiptItems:t.payload,errorMessage:"",preMessage:"\u05db\u05d3\u05d9 \u05dc\u05e2\u05d6\u05d5\u05e8 \u05dc\u05e0\u05d5 \u05dc\u05de\u05e6\u05d5\u05d0 \u05d8\u05d5\u05d1 \u05d9\u05d5\u05ea\u05e8 \u05d0\u05ea \u05d4\u05de\u05e0\u05d5\u05ea, \u05e1\u05de\u05e0\u05d5 \u05d0\u05ea \u05d4\u05e7\u05d1\u05dc\u05d4"});case"NEW_CROP":return Object(u.a)({},e,{crop:t.payload});case"USER_LOGIN":return Object(u.a)({},e,{userLoggedIn:!0,user:t.payload});case"USER_LOGOUT":return Object(u.a)({},e,{userLoggedIn:!1,user:null});default:return e}}a(78);var h=a(127),b=a.n(h),O=(a(153),a(141)),v=a(32),y=a(15),I=a(128),L=(a(180),a(41)),C=a.n(L),_=a(74),w=a(135),x=a.n(w),F=a(136),N=a.n(F),S=a(137),D=a.n(S),R=a(139),j=a.n(R),k=a(42),T=a.n(k),M=a(52),A=a.n(M),G=a(51),P=a.n(G),H=a(53),U=a(132),B=a.n(U),K=a(73),W=a(133),X=a.n(W),z=a(134),J=a.n(z),q=a(129),Y=a.n(q),$=a(130),Q=a(138),V=a(6);var Z=function(e){var t=o.a.useContext(m),a=t.state,n=t.dispatch,r=o.a.useState(0),c=Object(l.a)(r,2),i=c[0],s=c[1],u=o.a.useState(0),d=Object(l.a)(u,2),g=d[0],E=d[1],f=o.a.useState(!1),h=Object(l.a)(f,2),b=h[0],O=h[1];o.a.useEffect(function(){switch(console.log("Status changed to : ",a),a.status){case p.FILE_LOADED:console.log("Changing to check..."),a.doesLoadedImage&&S(a.photo,p.CHECK_RECEIPT);break;case p.CHECK_RECEIPT:console.log("Changing to find_edges..."),a.hasReceiptInPhoto&&S(a.photo,p.FIND_EDGES);break;case p.FIND_EDGES:console.log("Changing to extract..."),a.doesLoadedImage&&a.hasReceiptInPhoto&&S(a.photo,p.EXTRACT_ITEMS);break;default:console.log("Not an interesting status...")}},[a.status]);var v=function(e){return{root:{direction:"rtl"},textField:{flexBasis:100},textField_success:{borderColor:"#80bdff",boxShadow:"0 0 0 0.2rem rgba(0,123,255,.25)"},margin:{margin:e.spacing.unit},button:{marginTop:2*e.spacing.unit,marginRight:e.spacing.unit},backButton:{marginTop:2*e.spacing.unit,width:"20px"},actionsContainer:{marginBottom:e.spacing.unit},resetContainer:{padding:e.spacing.unit},doneLabel:{color:"#80bdff"}}},y=function(e){return n({type:"NEW_CROP",payload:e})},I=[{title:"\u05e6\u05d9\u05dc\u05d5\u05dd \u05d4\u05e7\u05d1\u05dc\u05d4",func:function(){return o.a.createElement("form",{onSubmit:L},o.a.createElement("input",{accept:"image/*",className:v.input,id:"raised-button-file",multiple:!0,type:"file",onChange:w}),o.a.createElement("label",{htmlFor:"raised-button-file"},o.a.createElement(B.a,{color:"primary","aria-label":"\u05e6\u05dc\u05dd",type:"file",component:"span",className:v.button},o.a.createElement(K.a,{icon:H.a}))))}},{title:"\u05d5\u05d9\u05d3\u05d5\u05d0 \u05d4\u05de\u05e0\u05d5\u05ea",func:function(){var e=a.crop,t=a.src,n=a.preMessage,r=a.errorMessage;return o.a.createElement("div",null,o.a.createElement("p",{style:{direction:"rtl",marginLeft:"10%",marginRight:"10%"}},r||n),t&&o.a.createElement(Y.a,{src:t,crop:e,onComplete:y,onChange:y}),o.a.createElement("div",null,o.a.createElement(T.a,{variant:"outlined",onClick:k,style:{width:"20px"},className:v.backButton},"\u05d7\u05d6\u05e8\u05d4"),o.a.createElement(T.a,{variant:"contained",onClick:R,style:{width:"60px",marginRight:"10px"},color:"primary",className:v.button},"\u05d4\u05d1\u05d0")))}},{title:"\u05d4\u05db\u05e0\u05e1\u05ea \u05e4\u05e8\u05d8\u05d9 \u05e9\u05d5\u05dc\u05d7\u05df",func:function(){var e=g>1?{endAdornment:o.a.createElement(X.a,{position:"end"},"\u05e1\u05d5\u05e2\u05d3\u05d9\u05dd")}:{},t=V({"classes.margin":!0,"classes.textField":!0,"classes.textField_success":!0});return o.a.createElement("form",{onSubmit:R},o.a.createElement(J.a,{autoFocus:!0,style:{marginTop:"15px"},id:"outlined-simple-start-adornment",className:t,variant:"outlined",label:"\u05db\u05de\u05d5\u05ea \u05e1\u05d5\u05e2\u05d3\u05d9\u05dd \u05d1\u05d0\u05e8\u05d5\u05d7\u05d4",type:"number",InputProps:e,onChange:function(e){O(!0),E(e.target.value)},value:b?g:"",helperText:b&&0==g?"\u05d0\u05d7\u05d9.....":"",error:b&&0==g}),b&&g>0&&o.a.createElement(T.a,{type:"submit",variant:"contained",color:"primary",style:{width:"90px",marginTop:"15px"},onClick:R,className:v.button},"\u05e1\u05d9\u05d9\u05de\u05ea\u05d9!"))}},{title:"\u05e9\u05d9\u05ea\u05d5\u05e3 \u05e2\u05dd \u05d7\u05d1\u05e8\u05d9\u05dd",func:function(){return o.a.createElement("p",null,"Yay me!!!")}}],L=function(e){console.log("onFormSubmit",e,a),e.preventDefault()},w=function(e){if(s(i+1),console.log("file loaded......"),e.target.files&&e.target.files.length>0){n({type:p.NO_FILE});var t=e.target.files[0];n({type:p.FILE_CHOOSED,payload:t});var a=new FileReader;a.addEventListener("load",function(){n({type:p.FILE_LOADED,payload:a.result})}),a.readAsDataURL(t)}},F=function(){var e=Object(_.a)(C.a.mark(function e(t,a){var r,o,c;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{"content-type":"multipart/form-data","Access-Control-Allow-Origin":"*"}},(o=new FormData).append("photo",t),n({type:"TOGGLE_LOADING"}),e.next=6,Object($.post)(a,o,r);case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),S=function(){var e=Object(_.a)(C.a.mark(function e(t,a){var r;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t,a.url);case 2:r=e.sent,n({type:a,payload:r.data});case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),R=function(e){null!=e&&e.preventDefault(),s(i+1)},k=function(){s(i-1)};return o.a.createElement("div",{id:"kaki",className:v.root},o.a.createElement(x.a,{activeStep:i,orientation:"vertical",style:{direction:"rtl",margin:"5%",background:"rgba(255, 255, 255, 0.49)",borderRadius:"10px"}},I.map(function(e,t){var a=e.title,n=e.func;return o.a.createElement(N.a,{key:a},o.a.createElement(D.a,{style:{color:Q.pink}},a),o.a.createElement(j.a,null,o.a.createElement("div",null,n()),o.a.createElement("div",{className:v.actionsContainer},o.a.createElement("div",null))))})),i===I.length&&o.a.createElement(A.a,{square:!0,elevation:0,className:v.resetContainer},o.a.createElement(P.a,null,"All steps completed - you're finished"),o.a.createElement(T.a,{onClick:function(){s(0)},className:v.button},"Reset")))};var ee=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(Z,null))};function te(){var e=o.a.useContext(m),t=e.state;e.dispatch,t.items;return o.a.createElement("div",null,o.a.createElement("p",null,"Hello world"))}var ae=function(){return o.a.createElement("h3",null,"404 - Sorry this page is not found")},ne=a(140),re=a.n(ne);var oe=function(e){var t=o.a.useContext(m),a=t.state,n=t.dispatch;return o.a.useEffect(function(){console.log("effect in LoginPage with props: ",e.isLogOut),e.isLogOut&&(console.log("logged out..."),n({type:"USER_LOGOUT"}))}),o.a.createElement("div",null,console.log("kakiiiiiiiiiiiiiiiiiiii",a),a.user&&a.userLoggedIn?o.a.createElement("div",{style:{width:"400px",margin:"auto",background:"#f4f4f4",padding:"20px"}},o.a.createElement("img",{src:a.user.picture,alt:a.user.name}),o.a.createElement("h2",null,"Welcome ",a.user.name),"Email: ",a.user.email):o.a.createElement("div",{style:{marginTop:"30%"}},o.a.createElement("p",{style:{marginLeft:"7%",marginRight:"7%",direction:"rtl"}},"\u05dc\u05e4\u05e0\u05d9 \u05e9\u05e0\u05ea\u05d7\u05d9\u05dc - \u05d4\u05d9\u05d9\u05e0\u05d5 \u05e8\u05d5\u05e6\u05d9\u05dd \u05dc\u05d4\u05db\u05d9\u05e8 \u05d0\u05d5\u05ea\u05da \u05e7\u05e6\u05ea \u05d9\u05d5\u05ea\u05e8 \u05d8\u05d5\u05d1, \u05de\u05d4 \u05d3\u05e2\u05ea\u05da \u05e2\u05dc \u05dc\u05d7\u05d1\u05e8 \u05d0\u05ea \u05d4\u05e4\u05d9\u05d9\u05e1\u05d1\u05d5\u05e7?"),o.a.createElement("div",{style:{marginTop:"30%"}},o.a.createElement(re.a,{appId:"339944453372114",autoLoad:!1,fields:"name,email,picture",onClick:function(){return console.log("clicked")},callback:function(e){console.log("back from facebook with : ",e),n({type:"USER_LOGIN",payload:e})}}))))};function ce(){var e=Object(s.a)(["\n\tdisplay: block;\n\tmargin: 0 auto;\n\tborder-color: red;\n"]);return ce=function(){return e},e}a(40).b.add(H.b);var ie=Object(y.css)(ce());var le=function(e){var t=o.a.useContext(m),a=t.state,n=(t.dispatch,Object(r.useState)(!1)),c=Object(l.a)(n,2);return c[0],c[1],Object(r.useEffect)(function(){a.userLoggedIn?console.log("user is already logged in..."):window.location.href.includes("/login")?console.log("already in /login..."):console.log("going to /login...")},[a.userLoggedIn]),o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,null,console.log(window.location.href),o.a.createElement("div",{className:"App"},o.a.createElement("img",{src:b.a,className:"App-logo",alt:"Spleat Logo"}),o.a.createElement("div",{className:"sweet-loading",style:{margin:20}},o.a.createElement(I.SyncLoader,{css:ie,sizeUnit:"px",size:8,color:"#123abc",loading:a.loading})),o.a.createElement(v.c,null,o.a.createElement(v.a,{exact:!0,path:"/",component:ee}),o.a.createElement(v.a,{path:"/login",component:oe}),o.a.createElement(v.a,{path:"/logout",render:function(){return o.a.createElement(oe,{isLogOut:!0})}}),o.a.createElement(v.a,{path:"/itemsList",component:te}),o.a.createElement(v.a,{component:ae})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var se=a(39),ue=a(144),de=a.n(ue),pe=a(145),me=a.n(pe),ge=a(31),Ee=Object(se.create)({plugins:[].concat(Object(n.a)(Object(ge.jssPreset)().plugins),[de()()])}),fe=Object(ge.createMuiTheme)({direction:"rtl"}),he=Object(ge.createGenerateClassName)();i.a.render(o.a.createElement(function(e){var t=o.a.useReducer(f,E),a=Object(l.a)(t,2),n={state:a[0],dispatch:a[1]};return o.a.createElement(m.Provider,{value:n},e.children)},null,o.a.createElement(me.a,{jss:Ee,generateClassName:he},o.a.createElement(ge.MuiThemeProvider,{theme:fe},o.a.createElement(le,{path:"/"})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[147,1,2]]]);
//# sourceMappingURL=main.a0ecd496.chunk.js.map