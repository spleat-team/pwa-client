(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{156:function(e,t,a){e.exports=a(374)},161:function(e,t,a){},222:function(e,t,a){},374:function(e,t,a){"use strict";a.r(t);var n=a(155),r=a(0),o=a.n(r),c=a(23),s=a.n(c);a(161),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(18),l=a(24),u="http://193.106.55.179:8888/",p={NO_FILE:"NO_FILE",FILE_CHOOSED:"FILE_CHOOSED",FILE_LOADED:{souldStartFlow:!0},CHECK_RECEIPT:{id:0,url:"".concat(u,"isReceipt")},FIND_EDGES:{id:1,url:"".concat(u,"detectReceipt")},EXTRACT_ITEMS:{id:2,url:"".concat(u,"extractReceiptItems")}},d=o.a.createContext(),g={doesLoadedImage:!1,hasReceiptInPhoto:!1,receiptCoordinates:[],receiptEdges:"",receiptItems:"",preMessage:'\u05e1\u05d4"\u05db 2 \u05e9\u05dc\u05d1\u05d9\u05dd \u05e4\u05e9\u05d5\u05d8\u05d9\u05dd \u05d5\u05e1\u05d9\u05d9\u05de\u05ea\u05dd!',errorMessage:"",photo:null},E=Object(l.a)({loading:!1,user:"",userLoggedIn:!1,src:null,crop:{width:200,x:0,y:0},status:p.NO_FILE},g);function m(e,t){switch(t.type){case"TOGGLE_LOADING":return Object(l.a)({},e,{loading:!e.loading});case p.NO_FILE:return Object(l.a)({},e,{status:p.NO_FILE,loading:!1},g,{errorMessage:"",preMessage:'\u05e1\u05d4"\u05db 2 \u05e9\u05dc\u05d1\u05d9\u05dd \u05e4\u05e9\u05d5\u05d8\u05d9\u05dd \u05d5\u05e1\u05d9\u05d9\u05de\u05ea\u05dd!'});case p.FILE_CHOOSED:return Object(l.a)({},e,{status:p.FILE_CHOOSED,loading:!1,doesLoadedImage:!1,photo:t.payload,errorMessage:"",preMessage:"\u05de\u05d0\u05de\u05ea \u05d0\u05ea \u05d4\u05e7\u05d1\u05dc\u05d4..."});case p.FILE_LOADED:return Object(l.a)({},e,{status:p.FILE_LOADED,loading:!1,doesLoadedImage:!0,src:t.payload,errorMessage:""});case p.CHECK_RECEIPT:var a=t.payload?"\u05d0\u05d5\u05e4\u05e1, \u05de\u05e9\u05d4\u05d5 \u05d4\u05e9\u05ea\u05d1\u05e9.. \u05e0\u05e1\u05d5 \u05dc\u05d4\u05e2\u05dc\u05d5\u05ea \u05d0\u05ea \u05d4\u05e7\u05d1\u05dc\u05d4 \u05de\u05d7\u05d3\u05e9 \u05d1\u05d1\u05e7\u05e9\u05d4":"\u05dc\u05d0 \u05de\u05e6\u05d0\u05e0\u05d5 \u05e7\u05d1\u05dc\u05d4 \u05d1\u05ea\u05de\u05d5\u05e0\u05d4, \u05e0\u05e1\u05d5 \u05dc\u05d4\u05e2\u05dc\u05d5\u05ea \u05ea\u05de\u05d5\u05e0\u05d4 \u05d8\u05d5\u05d1\u05d4 \u05d9\u05d5\u05ea\u05e8 \u05d1\u05d1\u05e7\u05e9\u05d4";return Object(l.a)({},e,{status:p.CHECK_RECEIPT,loading:!1,hasReceiptInPhoto:t.payload,errorMessage:a});case p.FIND_EDGES:return Object(l.a)({},e,{status:p.FIND_EDGES,loading:!1,receiptEdges:t.payload,errorMessage:"",preMessage:"\u05de\u05e0\u05ea\u05d7 \u05d0\u05ea \u05d4\u05e7\u05d1\u05dc\u05d4..."});case p.EXTRACT_ITEMS:return Object(l.a)({},e,{status:p.EXTRACT_ITEMS,loading:!1,receiptItems:t.payload,errorMessage:"",preMessage:"\u05db\u05d3\u05d9 \u05dc\u05e2\u05d6\u05d5\u05e8 \u05dc\u05e0\u05d5 \u05dc\u05de\u05e6\u05d5\u05d0 \u05d8\u05d5\u05d1 \u05d9\u05d5\u05ea\u05e8 \u05d0\u05ea \u05d4\u05de\u05e0\u05d5\u05ea, \u05e1\u05de\u05e0\u05d5 \u05d0\u05ea \u05d4\u05e7\u05d1\u05dc\u05d4"});case"NEW_CROP":return Object(l.a)({},e,{crop:t.payload});case"USER_LOGIN":return Object(l.a)({},e,{userLoggedIn:!0,user:t.payload});case"USER_LOGOUT":return Object(l.a)({},e,{userLoggedIn:!1,user:null});default:return e}}function O(e){var t=o.a.useReducer(m,E),a=Object(i.a)(t,2),n={state:a[0],dispatch:a[1]};return o.a.createElement(d.Provider,{value:n},e.children)}var f=a(43),b=a(134),h=a.n(b),I=a(135),v=a.n(I),L=a(40),j=a(136),R=(a(94),a(55)),_=a.n(R),D=(a(95),a(34)),C=a(16),S=a(137);a(222),a(44),a(76),a(145),a(146),a(147),a(149),a(35),a(54),a(53),a(138),a(148),a(141),a(139),a(140);a(142);a(144),a(143),a(7);var y=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var o=Object(r.useRef)(!0);Object(r.useEffect)(function(){var t;return(t=console).log.apply(t,["".concat(e," mounted")].concat(a)),function(){return console.log("".concat(e," unmounted"))}},[]),Object(r.useEffect)(function(){o.current})};var A=a(150),w=a.n(A),P=a(56);var N=function(e,t){var a=Object(r.useState)(function(){return P.get(e)||t}),n=Object(i.a)(a,2),o=n[0],c=n[1];return[o,function(t,a){c(t),P.set(e,t,a)},function(){P.remove(e)}]};var T=a(36),F=(Object(T.e)(function(e){var t=o.a.useContext(d),a=t.state,n=t.dispatch,c=(function(e){var t=Object(r.useRef)();Object(r.useEffect)(function(){t.current=e},[e]),t.current}({state:a,props:e}),N("spleat-user-details","")),s=Object(i.a)(c,3),l=(s[0],s[1]),u=s[2],p=o.a.useState(!1),g=Object(i.a)(p,2),E=g[0],m=g[1],O=o.a.useState(!1),f=Object(i.a)(O,2),b=f[0],h=f[1];y("LoginPage"),o.a.useEffect(function(){console.log("effect in LoginPage with props: ",e),e.isLogOut&&(console.log("logged out..."),u(),n({type:"USER_LOGOUT"}))},[e.isLogOut]);var I=e.location.state||{from:{pathname:"/"}};return o.a.createElement("div",{className:"App"},b&&o.a.createElement(T.a,{to:I}),o.a.createElement("img",{src:_.a,className:"App-logo",alt:"Spleat Logo"}),E?o.a.createElement("p",null,"\u05d0\u05d5\u05e4\u05e1.. \u05de\u05e9\u05d4\u05d5 \u05d4\u05e9\u05ea\u05d1\u05e9, \u05e0\u05e1\u05d5 \u05e9\u05e0\u05d9\u05ea!"):null,a.user&&a.userLoggedIn?o.a.createElement("p",null,"hi go to /shoot please.."):o.a.createElement("div",{style:{marginTop:"30%"}},o.a.createElement("p",{style:{marginLeft:"7%",marginRight:"7%",direction:"rtl"}},"\u05dc\u05e4\u05e0\u05d9 \u05e9\u05e0\u05ea\u05d7\u05d9\u05dc - \u05d4\u05d9\u05d9\u05e0\u05d5 \u05e8\u05d5\u05e6\u05d9\u05dd \u05dc\u05d4\u05db\u05d9\u05e8 \u05d0\u05d5\u05ea\u05da \u05e7\u05e6\u05ea \u05d9\u05d5\u05ea\u05e8 \u05d8\u05d5\u05d1, \u05de\u05d4 \u05d3\u05e2\u05ea\u05da \u05e2\u05dc \u05dc\u05d7\u05d1\u05e8 \u05d0\u05ea \u05d4\u05e4\u05d9\u05d9\u05e1\u05d1\u05d5\u05e7?"),o.a.createElement("div",{style:{marginTop:"30%"}},o.a.createElement(w.a,{appId:"339944453372114",autoLoad:!1,fields:"name,email,picture",onClick:function(){return console.log("clicked")},callback:function(e){console.log("back from facebook with : ",e),e&&e.name?(l(JSON.stringify(e),{expired:7}),n({type:"USER_LOGIN",payload:e}),h(!0)):(console.log("Error while retriving the user from facebook.."),m(!0))}}))))}),a(153),a(368),a(154)),G=a(29);a(131);function M(){var e=Object(j.a)(["\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n"]);return M=function(){return e},e}var k=Object(C.css)(M()),U=G.initializeApp({apiKey:"AIzaSyA4uCgHWUewD5XHo05GrRNmd5diYaUN9n4",authDomain:"spleat-4629b.firebaseapp.com",databaseURL:"https://spleat-4629b.firebaseio.com",projectId:"spleat-4629b",storageBucket:"spleat-4629b.appspot.com",messagingSenderId:"761349823555",appId:"1:761349823555:web:ba956c9f71eedae5"}).auth(),x={googleProvider:new G.auth.GoogleAuthProvider},H=Object(F.a)({providers:x,firebaseAppAuth:U})(function(e){var t=o.a.useContext(d),a=t.state,n=(t.dispatch,Object(r.useState)(!1)),c=Object(i.a)(n,2),s=(c[0],c[1]);G.auth.GoogleAuthProvider.PROVIDER_ID,G.auth.FacebookAuthProvider.PROVIDER_ID,G.auth.TwitterAuthProvider.PROVIDER_ID,G.auth.GithubAuthProvider.PROVIDER_ID,G.auth.EmailAuthProvider.PROVIDER_ID;o.a.useEffect(function(){G.auth().onAuthStateChanged(function(e){console.log("user changed..",e),s(!!e)})},[]),y("App");var l=e.user,u=e.signOut,p=e.signInWithGoogle;return o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,null,o.a.createElement("div",{className:"App"},o.a.createElement("img",{src:_.a,className:"App-logo",alt:"Spleat Logo"}),o.a.createElement("div",{className:"sweet-loading",style:{margin:20}},o.a.createElement(S.SyncLoader,{css:k,sizeUnit:"px",size:8,color:"#123abc",loading:a.loading})),l?o.a.createElement("button",{onClick:u},"Sign out"):o.a.createElement("button",{onClick:p},"Sign in with Google"),console.log("Apppppppppppppppppppp"))))}),V=Object(f.create)({plugins:[].concat(Object(n.a)(Object(L.jssPreset)().plugins),[h()()])}),W=Object(L.createMuiTheme)({direction:"rtl"}),z=Object(L.createGenerateClassName)();s.a.render(o.a.createElement(function(e){return o.a.createElement(O,null,o.a.createElement(v.a,{jss:V,generateClassName:z},o.a.createElement(L.MuiThemeProvider,{theme:W},o.a.createElement(H,null))))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},55:function(e,t,a){e.exports=a.p+"static/media/logo.f5057c26.png"},95:function(e,t,a){}},[[156,1,2]]]);
//# sourceMappingURL=main.f7c02373.chunk.js.map